"use strict";let dataSearch=[];const filmList=document.querySelector(".js-films"),inputValue=document.querySelector(".js-search"),searchBtn=document.querySelector(".js-btn");searchBtn.addEventListener("click",addListenerSearchClick);let dataFilms=[];function addListenerSearchClick(){const e=inputValue.value;dataFilms=[],fetch("https://api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{e.forEach(e=>{dataFilms.push(e.show)}),renderFilms(dataFilms)})}function renderFilms(e){filmList.innerHTML="";let a="",s="";for(let t=0;t<e.length;t++)a=null===e[t].image?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":e[t].image.medium,s+=`\n         <li id ="${e[t].id}" class="films-each js-cards">\n            <div class="films-each__container">\n              <img src="${a}" alt="" class="films-each__container--photo">\n              <h3 class="films-each__container--text">${e[t].name}</h3>\n            </div>\n         </li>`;filmList.innerHTML=s,addListenersToCardsFilms()}const filmsFav=document.querySelector(".js-favorite");let newFav=[];function addListenersToCardsFilms(){const e=document.querySelectorAll(".js-cards");for(const a of e)a.addEventListener("click",handlerFavorite)}function handlerFavorite(e){const a=e.currentTarget;let s=e.currentTarget.id;const t=newFav.find(e=>e.id===parseInt(s));if(null==t){a.classList.add("select-fav"),a.classList.remove("films-each__container");const e=dataFilms.find(e=>e.id===parseInt(s));newFav.push(e)}else{a.classList.remove("select-fav"),a.classList.add("films-each__container");const e=newFav.indexOf(t);newFav.splice(e,1)}localStorage.setItem("films",JSON.stringify(newFav));let i="",n="";for(let e=0;e<newFav.length;e++)i=null===newFav[e].image?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":newFav[e].image.medium,n+=`\n         <li id ="${newFav[e].id}" class="films-each js-cards">\n            <div class="films-each__container">\n              <img src="${i}" alt="" class="films-each__container--photo">\n              <h3 class="films-each__container--text">${newFav[e].name}</h3>\n            </div>\n         </li>`;filmsFav.innerHTML='<h3 class="favorite__title">Pelis favoritas</h3>'+n}if(null===localStorage.getItem("films"));else{newFav=JSON.parse(localStorage.getItem("films"));let e="",a="";for(let s=0;s<newFav.length;s++)e=null===newFav[s].image?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":newFav[s].image.medium,a+=`\n         <li id ="${newFav[s].id}" class="films-each js-cards">\n            <div class="films-each__container">\n              <img src="${e}" alt="" class="films-each__container--photo">\n              <h3 class="films-each__container--text">${newFav[s].name}</h3>\n            </div>\n         </li>`;filmsFav.innerHTML='<h3 class="favorite__title">Pelis favoritas</h3>'+a}